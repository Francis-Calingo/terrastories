#!/bin/bash
set -eu

Off='\033[00m'
Bold='\033[1m'
Blue='\033[0;36m'

echo -e "${Blue}$(
  cat <<TERRASTORIES_ASCII
_ _ _ ____ _    ____ ____ _  _ ____    ___ ____
| | | |___ |    |    |  | |\/| |___     |  |  |
|_|_| |___ |___ |___ |__| |  | |___     |  |__|
 _______ _______ ______   ______   _______ _______ _______ _______ ______   ___ _______ _______
|       |       |    _ | |    _ | |   _   |       |       |       |    _ | |   |       |       |
|_     _|    ___|   | || |   | || |  |_|  |  _____|_     _|   _   |   | || |   |    ___|  _____|
  |   | |   |___|   |_||_|   |_||_|       | |_____  |   | |  | |  |   |_||_|   |   |___| |_____
  |   | |    ___|    __  |    __  |       |_____  | |   | |  |_|  |    __  |   |    ___|_____  |
  |   | |   |___|   |  | |   |  | |   _   |_____| | |   | |       |   |  | |   |   |___ _____| |
  |___| |_______|___|  |_|___|  |_|__| |__|_______| |___| |_______|___|  |_|___|_______|_______|
 ██████  ███████ ███████ ██      ██ ███    ██ ███████ 
██    ██ ██      ██      ██      ██ ████   ██ ██      
██    ██ █████   █████   ██      ██ ██ ██  ██ █████   
██    ██ ██      ██      ██      ██ ██  ██ ██ ██      
 ██████  ██      ██      ███████ ██ ██   ████ ███████ 
                                                      
TERRASTORIES_ASCII
  )${Off}"

docker compose up -d offline

hostname=$(grep "^HOST_HOSTNAME=.*" .env.offline | cut -s -d= -f2 -)
if [ -z $hostname ]; then
  hostname=terrastories.local
fi

echo -e ${Bold}You can access Terrastories at${Off}: http://$hostname
echo -e ${Bold}You can access Tileserver at${Off}: http://$hostname/tileserver
